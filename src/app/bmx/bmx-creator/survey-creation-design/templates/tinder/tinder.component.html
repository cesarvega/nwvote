<!-- âž—âž—âž—âž—âž—âž—âž—âž—âž—âž—âž—âž—âž—âž—âž—âž—âž—âž—âž—  SETTINGS ICONS  âž—âž—âž—âž—âž—âž—âž—âž—âž—âž—âž—âž—âž—âž—âž—âž—âž— -->
<div *ngIf="bmxClientPageOverview" style="display: flex;
    flex-direction: row-reverse;
    justify-content: end;
    top: -30px;
    right: 50px;border: 2px dashed #324395;padding-right: 10px;background: #ffffffd9;
    position: absolute;height: 54px;align-items: center;padding-right: 38px;">

    <div>
        <button (click)="selectedIndex = ''" class="add-column" matTooltip="cancel" matTooltipPosition="above"
            *ngIf="i === selectedIndex" mat-icon-button>
            <mat-icon style="font-size: 25px;" class="full-icon">check_circle</mat-icon>
        </button>


        <button (dblclick)="resetVotes()" [ngClass]="(!deleteRows)?'add-column':'add-column-active'"
            matTooltip="double click to reset votes" matTooltipPosition="above" mat-icon-button aria-label="ranking">
            <mat-icon style="font-size: 26px;" class="full-icon">delete_outline</mat-icon>
        </button>
        <button (click)="setPronunciation()" class="add-column" matTooltip="speech" matTooltipPosition="above"
            mat-icon-button aria-label="ranking">
            <mat-icon style="font-size: 26px;" class="full-icon">mic</mat-icon>
        </button>
        <!-- <button (click)="isColumnResizerOn = !isColumnResizerOn"
            [ngClass]="(!isColumnResizerOn)?'add-column':'add-column-active'" matTooltip="columns width"
            matTooltipPosition="above" mat-icon-button aria-label="ranking">
            <mat-icon style="font-size: 26px;    z-index: 9;" class="full-icon">swap_horizontal_circle</mat-icon>
        </button> -->
        <button (click)="undo()" class="add-column" matTooltip="undo last change" matTooltipPosition="above"
            mat-icon-button aria-label="ranking">
            <mat-icon style="font-size: 26px;" class="full-icon">undo</mat-icon>
        </button>
        <button (click)="showModalTable = true" class="add-column" matTooltip="Update names" matTooltipPosition="above"
            *ngIf="i !== selectedIndex" mat-icon-button>
            <mat-icon style="font-size: 25px;" class="full-icon"> text_fields</mat-icon>
        </button>
        <button (click)="selectedIndex = i" class="add-column" matTooltip="insert test names" matTooltipPosition="above"
            *ngIf="i !== selectedIndex" mat-icon-button>
            <mat-icon style="font-size: 25px;" class="full-icon">edit</mat-icon>
        </button>
    </div>
</div>
<!-- âž—âž—âž—âž—âž—âž—âž—âž—âž—âž—âž—âž—âž—âž—âž—âž—âž—âž—âž—  END  âž—âž—âž—âž—âž—âž—âž—âž—âž—âž—âž—âž—âž—âž—âž—âž—âž— -->



<!-- ðŸ”§ðŸ”§ðŸ”§ðŸ”§ðŸ”§ðŸ”§ðŸ”§ðŸ”§ðŸ”§ðŸ”§ðŸ”§ðŸ”§ðŸ”§ðŸ”§ðŸ”§ðŸ”§ðŸ”§ðŸ”§ðŸ”§ðŸ”§ðŸ”§ CONFIG BOX ðŸ”§ðŸ”§ðŸ”§ðŸ”§ðŸ”§ðŸ”§ðŸ”§ðŸ”§ðŸ”§ðŸ”§ðŸ”§ðŸ”§ðŸ”§ðŸ”§ðŸ”§ðŸ”§ðŸ”§ðŸ”§ðŸ”§ðŸ”§ðŸ”§ðŸ”§ðŸ”§ -->
<div *ngIf="i === selectedIndex" class="mat-elevation-z4" cdkDrag
    style="position: absolute;width: 62vw;background: #fafafa;z-index: 1;top: -8px;left: 15%;border: lightgrey 3px solid;">
    <div style="position: absolute;
    top: 10px;
    right: 10px;
    color: #ccc;
    cursor: move;
    width: 1024px;
    height: 54px;" cdkDragHandle> </div>
    <div style="text-align: center;">
        <div style="font-size: 16px;margin: 20px;color: #48535e;">Copy & Paste TEST NAMES</div>
        <!-- <div style="font-size: 14px;margin-bottom: 20px;color: lightgray;">Brief Description Here</div> -->
    </div>
    <div style="display: flex;justify-content: center;justify-items: center;">

        <mat-form-field style="width: 90%;margin-left: 20px;" appearance="outline">
            <mat-label>Copy & Paste TEST NAMES</mat-label>
            <textarea matInput rows="4" cols="50" [(ngModel)]="testNamesInput"
                placeholder=""></textarea>
        </mat-form-field>

    </div>

    <hr>
    <div style="display: flex;flex-direction: row;;padding: 0 20px;justify-content: space-around;gap: 30px;">

        <input type="text" [(ngModel)]="bmxItem.componentSettings[0].categoryName"
            [value]="bmxItem.componentSettings[0].categoryName" placeholder="Category Name"
            style="font-size: 20px;color: #324395;padding-bottom: 10px;">
        <input type="text" [(ngModel)]="bmxItem.componentSettings[0].categoryDescription"
            [value]="bmxItem.componentSettings[0].categoryDescription" placeholder="Category Description"
            style="font-size: 20px;color: #ee7f25;padding-bottom: 20px;">

        <div style="display: flex; flex-direction: column">
            <mat-checkbox [(ngModel)]="randomizeTestNames">Randomize Names</mat-checkbox>
            <mat-checkbox #showIcon [(ngModel)]="showNeutralIcon">Add Neutral Button</mat-checkbox>
            <mat-checkbox #changePreference (click)="changePreferenceScore()" [(ngModel)]="ranking">Preference Score</mat-checkbox>
        </div>
    </div>

    <hr>
    <div style="text-align: center;display: flex;flex-direction: row;justify-content: space-around;">
        <button style="outline: none;color:#d35854;margin-bottom: 50px;" mat-icon-button (click)="selectedIndex = ''"
            aria-label="ranking">
            <mat-icon>cancel</mat-icon><br>Cancel
        </button>

        <button style="outline: none;color:#76d354;margin-bottom: 50px;" mat-icon-button
            (click)="selectedIndex = '';upLoadNamesAndRationales(testNamesInput)" aria-label="ranking">
            <mat-icon>check_circle</mat-icon><br> DONE
        </button>
    </div>
</div>
<!-- ðŸ”§ðŸ”§ðŸ”§ðŸ”§ðŸ”§ðŸ”§ðŸ”§ðŸ”§ðŸ”§ðŸ”§ðŸ”§ðŸ”§ðŸ”§ðŸ”§ðŸ”§ðŸ”§ðŸ”§ðŸ”§ðŸ”§ðŸ”§ðŸ”§ðŸ”§END CONFIG BOX ðŸ”§ðŸ”§ðŸ”§ðŸ”§ðŸ”§ðŸ”§ðŸ”§ðŸ”§ðŸ”§ðŸ”§ðŸ”§ðŸ”§ðŸ”§ðŸ”§ðŸ”§ðŸ”§ðŸ”§ðŸ”§ðŸ”§ðŸ”§ðŸ”§ -->



<!--ðŸ¥‘ðŸ¥‘ðŸ¥‘ðŸ¥‘ðŸ¥‘ðŸ¥‘ðŸ¥‘ðŸ¥‘ðŸ¥‘ðŸ¥‘ðŸ¥‘ðŸ¥‘ðŸ¥‘ðŸ¥‘ðŸ¥‘ðŸ¥‘ðŸ¥‘ðŸ¥‘ðŸ¥‘ðŸ¥‘ðŸ¥‘ðŸ¥‘ðŸ¥‘ðŸ¥‘ðŸ¥‘ RATING TABLE ðŸ¥‘ðŸ¥‘ðŸ¥‘ðŸ¥‘ðŸ¥‘ðŸ¥‘ðŸ¥‘ðŸ¥‘ðŸ¥‘ðŸ¥‘ðŸ¥‘ðŸ¥‘ðŸ¥‘ðŸ¥‘ðŸ¥‘ðŸ¥‘ðŸ¥‘ðŸ¥‘ðŸ¥‘ðŸ¥‘ðŸ¥‘ðŸ¥‘ðŸ¥‘-->


<!--ðŸ’²ðŸ’²ðŸ’²ðŸ’²ðŸ’²ðŸ’²ðŸ’²ðŸ’²ðŸ’²ðŸ’²ðŸ’²ðŸ’²ðŸ’²ðŸ’²ðŸ’²ðŸ’²ðŸ’²ðŸ’²ðŸ’²ðŸ’²ðŸ’²ðŸ’²ðŸ’²ðŸ’²ðŸ’²ðŸ’²ðŸ’²ðŸ’²ðŸ’²ðŸ’²ðŸ’²ðŸ’²ðŸ’² TABLE ðŸ’» DESKTOP ðŸ’» GENERATOR ðŸ’²ðŸ’²ðŸ’²ðŸ’²ðŸ’²ðŸ’²ðŸ’²ðŸ’²ðŸ’²ðŸ’²ðŸ’²ðŸ’²ðŸ’²ðŸ’²ðŸ’²ðŸ’²ðŸ’²ðŸ’²ðŸ’²ðŸ’²ðŸ’²ðŸ’²ðŸ’²ðŸ’²ðŸ’²ðŸ’²ðŸ’²ðŸ’²ðŸ’²ðŸ’²ðŸ’²ðŸ’²ðŸ’²ðŸ’²-->
<div class="desktop">
    <div style="display: flex;flex-direction: column;padding-left: 40px;">

        <div style="font-size: 25px;color: #324395;padding-bottom: 10px;">{{bmxItem.componentSettings[0].categoryName}}
        </div>
        <div style="font-size: 18px;color: #ee7f25;padding-bottom: 20px;">
            {{bmxItem.componentSettings[0].categoryDescription}}</div>
    </div>
    <div class="scroller-style main-container">

        <div style="display: flex;flex-direction: row;gap: 20px; align-items: center;width: 750px;">

            <mat-icon (click)="moveleft(bmxItem.componentText[testNameIndex].nameCandidates)" style="font-size: 30px;color: grey;cursor: pointer;" class="full-icon">
                chevron_left</mat-icon>

            <div class="tinder-box">

                <!-- <div [ngClass]="(!bmxItem.componentText[testNameIndex].vote)?'':(bmxItem.componentText[testNameIndex].vote === 'negative')?'positive':'negative'" -->
                <div [ngStyle]="{'color':colorText}"
                    style="font-size: 80px;text-align: center;font-weight: bolder;animation: fadeInRight 1s ease-in 0 1 forwards;">
                    {{( bmxItem.componentText[testNameIndex].nameCandidates)?
                    bmxItem.componentText[testNameIndex].nameCandidates:'TEST NAME'}}
                </div>
                <div style="font-size: 24px;text-align: center;color: #bababa;max-width: 80%;margin: 30px 0 0 0;">
                    {{( bmxItem.componentText[testNameIndex].rationale)?
                    bmxItem.componentText[testNameIndex].rationale:'Rationale of an undisclosed length'}}
                </div>
                <textarea name="comments" placeholder="Comments" style="width: 100%;
                    padding: 20px;" [(ngModel)]="bmxItem.componentText[testNameIndex].comments"></textarea>
                    <div class="container-bar">
                        <div class="bar-progress" [ngStyle]="{'width.%':value}"></div>
                    </div>
                    <span style="font-size: 25px">
                        {{testNameIndex}} / {{bmxItem.componentText.length - 1}}
                    </span>

                <!-- LIKE OR DISLIKE SYSTEM -->
                <div *ngIf="!ranking" style="display: flex;flex-direction:row;justify-content: center;align-items: center;gap: 110px;">
                    <mat-icon (click)="voteName('negative')" style="font-size: 65px;color: #e800d7;cursor: pointer;width: 100%"
                        class="full-icon">highlight_off</mat-icon>

                    <mat-icon style="cursor: pointer;color: #324395;"
                    (click)="playTestNameSound(bmxItem.componentText[testNameIndex].nameCandidates)"
                        *ngIf="!editSingleTableCells && displaySound">
                        volume_up
                    </mat-icon>
                    <mat-icon *ngIf="showNeutralIcon" (click)="voteName('neutral')" class="full-icon" style="font-size: 65px;color: #f37e00;cursor: pointer;width: 100%">
                        sentiment_satisfied</mat-icon>

                    <mat-icon (click)="voteName('positive')" style="font-size: 65px;color: #00c600;cursor: pointer;width: 100%"
                        class="full-icon">sentiment_satisfied_alt</mat-icon>
                </div>

                <!-- RANKING SYSTEM -->
                <div *ngIf="ranking" style="display: flex;flex-direction:row;justify-content: center;align-items: center;gap: 35px;">
                    <div *ngFor="let rank of rankingAmount; let rankIndex = index">
                        <button style="min-width: 35px;" (click)="voteName(rank)"
                            [ngClass]="(currentrank === rankIndex)?'rankNumberActive':'rankNumber'" mat-raised-button>
                            {{rank}}
                        </button>
                    </div>
                </div>

                <button mat-raised-button (click)="resetVotes()">Reset Votes</button>

            </div>
            <mat-icon *ngIf="survey==false; else isSurvey" (click)="moveRight(bmxItem.componentText[testNameIndex].nameCandidates)" style="font-size: 30px;color: grey;cursor: pointer;" class="full-icon">
                chevron_right
            </mat-icon>
            <ng-template #isSurvey>
                <mat-icon *ngIf="hasVoted; else noHasVoted" (click)="moveRight(bmxItem.componentText[testNameIndex].nameCandidates)" style="font-size: 30px;color: grey;cursor: pointer;" class="full-icon">
                    chevron_right
                </mat-icon>
                <ng-template #noHasVoted><mat-icon style="font-size: 30px;color: grey" class="full-icon">
                        chevron_right</mat-icon>
                </ng-template>
            </ng-template>
        </div>
    </div>
</div>
<!--ðŸ’²ðŸ’²ðŸ’²ðŸ’²ðŸ’²ðŸ’²ðŸ’²ðŸ’²ðŸ’²ðŸ’²ðŸ’²ðŸ’²ðŸ’²ðŸ’²ðŸ’²ðŸ’²ðŸ’²ðŸ’²ðŸ’²ðŸ’²ðŸ’²ðŸ’²ðŸ’²ðŸ’²ðŸ’²ðŸ’²ðŸ’²ðŸ’²ðŸ’²ðŸ’²ðŸ’²ðŸ’²ðŸ’² END TABLE GENERATOR ðŸ’²ðŸ’²ðŸ’²ðŸ’²ðŸ’²ðŸ’²ðŸ’²ðŸ’²ðŸ’²ðŸ’²ðŸ’²ðŸ’²ðŸ’²ðŸ’²ðŸ’²ðŸ’²ðŸ’²ðŸ’²ðŸ’²ðŸ’²ðŸ’²ðŸ’²ðŸ’²ðŸ’²ðŸ’²ðŸ’²ðŸ’²ðŸ’²ðŸ’²ðŸ’²ðŸ’²ðŸ’²ðŸ’²ðŸ’²-->



<!--ðŸ“±ðŸ“±ðŸ“±ðŸ“±ðŸ“±ðŸ“±ðŸ“±ðŸ“±ðŸ“±ðŸ“±ðŸ“±ðŸ“±ðŸ“±ðŸ“±ðŸ“±ðŸ“±ðŸ“±ðŸ“±ðŸ“±ðŸ“±ðŸ“±ðŸ“±ðŸ“±ðŸ“±ðŸ“±ðŸ“±ðŸ“±ðŸ“±ðŸ“±ðŸ“±ðŸ“± TABLE ðŸ“± MOBILE ðŸ“± GENERATOR ðŸ“±ðŸ“±ðŸ“±ðŸ“±ðŸ“±ðŸ“±ðŸ“±ðŸ“±ðŸ“±ðŸ“±ðŸ“±ðŸ“±ðŸ“±ðŸ“±ðŸ“±ðŸ“±ðŸ“±ðŸ“±ðŸ“±ðŸ“±ðŸ“±ðŸ“±ðŸ“±ðŸ“±ðŸ“±ðŸ“±ðŸ“±ðŸ“±ðŸ“±ðŸ“±ðŸ“±ðŸ“±ðŸ“±ðŸ“±-->
<div class="mobile">
    <div style="display: flex;flex-direction: column;text-align: center;">

        <div style="font-size: 25px;color: #324395;padding-bottom: 10px;">{{bmxItem.componentSettings[0].categoryName}}
        </div>
        <div style="font-size: 18px;color: #ee7f25;padding-bottom: 20px;">
            {{bmxItem.componentSettings[0].categoryDescription}}</div>

    </div>
    <div class="scroller-style main-container">

        <div style="display: flex;flex-direction: column;align-items: center;">


            <div class="tinder-box">
                <div [ngStyle]="{'color':colorText}"
                    style="font-size: 50px;text-align: center;font-weight: bolder;animation: fadeInRight 1s ease-in 0 1 forwards;">
                    {{( bmxItem.componentText[testNameIndex].nameCandidates)?
                    bmxItem.componentText[testNameIndex].nameCandidates:'TEST NAME'}}
                </div>
                <div style="font-size: 18px;text-align: center;color: #bababa;">
                    {{( bmxItem.componentText[testNameIndex].rationale)?
                    bmxItem.componentText[testNameIndex].rationale:'Rationale of an undisclosed length'}}
                </div>
                <textarea name="comments" placeholder="comments" style="width: 95%;
                padding: 10px;height: 40px;" [(ngModel)]="bmxItem.componentText[testNameIndex].comments"></textarea>

                <!-- LIKE OR DISLIKE -->
                <div *ngIf="!ranking" style="display: flex;flex-direction:row;justify-content: space-around;align-items: center;width: 100%;position: relative;
                bottom: 15px;">

                    <mat-icon (click)="moveleft(bmxItem.componentText[testNameIndex].nameCandidates)" style="font-size: 30px;color: grey;cursor: pointer;">
                        chevron_left
                    </mat-icon>

                    <div style="display: flex; justify-content: center">
                        <mat-icon (click)="voteName('negative')" style="font-size: 50px;color: #e800d7;cursor: pointer;width: 100%">
                            highlight_off</mat-icon>

                        <mat-icon (click)="voteName('positive')" style="font-size: 50px;color: #00cd38;cursor: pointer;width: 100%">
                            sentiment_satisfied_alt
                        </mat-icon>
                    </div>

                    <mat-icon *ngIf="survey==false; else isSurvey" (click)="moveRight(bmxItem.componentText[testNameIndex].nameCandidates)" style="font-size: 30px;color: grey;cursor: pointer;">
                        chevron_right
                    </mat-icon>
                    <ng-template #isSurvey>
                        <mat-icon *ngIf="hasVoted; else noHasVoted" (click)="moveRight(bmxItem.componentText[testNameIndex].nameCandidates)" style="font-size: 30px;color: grey;cursor: pointer;" class="full-icon">
                            chevron_right
                        </mat-icon>
                        <ng-template #noHasVoted><mat-icon style="font-size: 30px;color: grey" class="full-icon">
                                chevron_right</mat-icon>
                        </ng-template>
                    </ng-template>
                </div>


                <!-- RANKING SYSTEM -->
                <div *ngIf="ranking" style="display: flex;flex-direction:column;justify-content: center;align-items: center;gap: 30px;">

                    <div style="width: 100%;display: flex;justify-content: space-around">
                        <mat-icon (click)="moveleft(bmxItem.componentText[testNameIndex].nameCandidates)" style="font-size: 30px;color: grey;cursor: pointer;">
                            chevron_left
                        </mat-icon>

                        <mat-icon *ngIf="survey==false; else isSurvey" (click)="moveRight(bmxItem.componentText[testNameIndex].nameCandidates)" style="font-size: 30px;color: grey;cursor: pointer;">
                            chevron_right
                        </mat-icon>
                        <ng-template #isSurvey>
                            <mat-icon *ngIf="hasVoted; else noHasVoted" (click)="moveRight(bmxItem.componentText[testNameIndex].nameCandidates)" style="font-size: 30px;color: grey;cursor: pointer;" class="full-icon">
                                chevron_right
                            </mat-icon>
                            <ng-template #noHasVoted><mat-icon style="font-size: 30px;color: grey" class="full-icon">
                                    chevron_right</mat-icon>
                            </ng-template>
                        </ng-template>
                    </div>
                    <div style="display: flex; gap: 5px">
                       <div *ngFor="let rank of rankingAmount; let rankIndex = index">
                            <button style="min-width: 35px;" (click)="voteName(rank)"
                                [ngClass]="(currentrank === rankIndex)?'rankNumberActive':'rankNumber'" mat-raised-button>
                                {{rank}}
                            </button>
                        </div>
                    </div>

                </div>

            </div>

        </div>
    </div>
</div>

<!--ðŸ“±ðŸ“±ðŸ“±ðŸ“±ðŸ“±ðŸ“±ðŸ“±ðŸ“±ðŸ“±ðŸ“±ðŸ“±ðŸ“±ðŸ“±ðŸ“±ðŸ“±ðŸ“±ðŸ“±ðŸ“±ðŸ“±ðŸ“±ðŸ“±ðŸ“±ðŸ“±ðŸ“±ðŸ“±ðŸ“±ðŸ“±ðŸ“±ðŸ“±ðŸ“±ðŸ“± END TABLE GENERATOR ðŸ“±ðŸ“±ðŸ“±ðŸ“±ðŸ“±ðŸ“±ðŸ“±ðŸ“±ðŸ“±ðŸ“±ðŸ“±ðŸ“±ðŸ“±ðŸ“±ðŸ“±ðŸ“±ðŸ“±ðŸ“±ðŸ“±ðŸ“±ðŸ“±ðŸ“±ðŸ“±ðŸ“±ðŸ“±ðŸ“±ðŸ“±ðŸ“±ðŸ“±ðŸ“±ðŸ“±ðŸ“±ðŸ“±ðŸ“±-->

<div *ngIf="showModalTable" class="modal-video" style="display: flex;flex-direction: column;gap: 2px;">

    <div class="modal-content">
        <div class="content-button">
            <button mat-button (click)="showModalTable = false">Save</button>
        </div>
        <div class="content-table">
            <table mat-table [dataSource]="dataSource" class="mat-elevation-z8" >

                <!--- Note that these columns can be defined in any order.
                      The actual rendered columns are set as a property on the row definition" -->

                <!-- Position Column -->
                <ng-container matColumnDef="nameCandidates">
                  <th mat-header-cell *matHeaderCellDef> Name Candidates</th>
                  <td mat-cell *matCellDef="let element"><input type="text" matInput [(ngModel)]="element.nameCandidates" [value]="element.nameCandidates"></td>
                </ng-container>
                <ng-container matColumnDef="rationale">
                    <th mat-header-cell *matHeaderCellDef> Rationales</th>
                    <td mat-cell *matCellDef="let element"><input type="text" matInput [(ngModel)]="element.rationale" [value]="element.rationale"></td>
                </ng-container>
                <ng-container matColumnDef="delete">
                    <th mat-header-cell *matHeaderCellDef> Delete</th>
                    <td mat-cell *matCellDef="let element"><mat-icon (dblclick)="deleteName(element)" style="margin-left: 15px; cursor: pointer">delete</mat-icon></td>
                </ng-container>
                <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
            </table>
        </div>
        <div class="content-button">
            <button mat-button *ngIf="!showNewInput" (click)="showModalAddRow = true; showModalTable = false"><mat-icon>add_box</mat-icon></button>
        </div>
    </div>

</div>

<!-- modal add row -->
<div *ngIf="showModalAddRow" id="myModalrow" class="modal-video">

    <div class="modal-content-add-row" style="background: white; padding: 15px">
        <div class="content-input">
            <mat-form-field class="example-full-width">
                <mat-label>Name Candidates</mat-label>
                <input matInput [(ngModel)]="newCandidate.nameCandidates" value="{{newCandidate.nameCandidates}}">
            </mat-form-field>
            <mat-form-field class="example-full-width" >
                <mat-label>Rationales</mat-label>
                <textarea rows="4" matInput [(ngModel)]="newCandidate.rationale" value="{{newCandidate.rationale}}"></textarea>
            </mat-form-field>
            <button mat-raised-button color="primary" (click)="uploadNames()" style="color: white">Save</button>
            <button mat-raised-button (click)="showModalAddRow = false" style="margin-left: 2px;">Cancel</button>
        </div>
    </div>
</div>


