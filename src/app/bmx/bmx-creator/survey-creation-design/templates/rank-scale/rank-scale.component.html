<!-- âž—âž—âž—âž—âž—âž—âž—âž—âž—âž—âž—âž—âž—âž—âž—âž—âž—âž—âž—  SETTINGS ICONS  âž—âž—âž—âž—âž—âž—âž—âž—âž—âž—âž—âž—âž—âž—âž—âž—âž— -->
<div *ngIf="bmxClientPageOverview">
    <button (click)="selectedIndex = ''" class="add-column" matTooltip="cancel" matTooltipPosition="above"
        style=" margin: -50px 29px;" *ngIf="i === selectedIndex" mat-icon-button>
        <mat-icon style="font-size: 25px;" class="full-icon">check_circle</mat-icon>
    </button>
    <button (click)="selectedIndex = i" class="add-column" matTooltip="edit table content & settings"
        matTooltipPosition="above" style=" margin: -50px 29px;" *ngIf="i !== selectedIndex" mat-icon-button>
        <mat-icon style="font-size: 25px;" class="full-icon">edit</mat-icon>
    </button>
    <button (click)="insertTextColumn()" class="add-column" style=" margin: -50px 65px;" matTooltip="add Text column"
        matTooltipPosition="above" mat-icon-button aria-label="ranking">
        <mat-icon style="font-size: 26px;" class="full-icon">view_list</mat-icon>
    </button>
    <button (click)="insertRadioColumn()" class="add-column" style="margin: -50px 95px;" matTooltip="add radio column"
        matTooltipPosition="above" mat-icon-button aria-label="ranking">
        <mat-icon style="font-size: 26px;" class="full-icon">radio_button_checked</mat-icon>
    </button>
    <button (click)="insertCommentBoxColumn()" class="add-column" style="margin: -50px 125px;"
        matTooltip="add a Comment box column" matTooltipPosition="above" mat-icon-button aria-label="ranking">
        <mat-icon style="font-size: 26px;" class="full-icon">wysiwyg</mat-icon>
    </button>
    <button (click)="insertRow()" class="add-column" style="margin: -50px 155px;" matTooltip="insert row"
        matTooltipPosition="above" mat-icon-button aria-label="ranking">
        <mat-icon style="font-size: 26px;" class="full-icon">vertical_distribute</mat-icon>
    </button>
    <button (click)="editSingleTableCells = !editSingleTableCells" class="add-column" style="margin: -50px 185px;"
        matTooltip="edit tabel cells" matTooltipPosition="above" mat-icon-button aria-label="ranking">
        <mat-icon style="font-size: 26px;" class="full-icon">explicit</mat-icon>
    </button>
    <button (click)="toogleColumnResizer()" class="add-column" style="margin: -50px 215px;" matTooltip="row settings"
        matTooltipPosition="above" mat-icon-button aria-label="ranking">
        <mat-icon style="font-size: 26px;" class="full-icon">swap_horizontal_circle</mat-icon>
    </button>

</div>
<!-- âž—âž—âž—âž—âž—âž—âž—âž—âž—âž—âž—âž—âž—âž—âž—âž—âž—âž—âž—  END  âž—âž—âž—âž—âž—âž—âž—âž—âž—âž—âž—âž—âž—âž—âž—âž—âž— -->


<!-- ðŸ”§ðŸ”§ðŸ”§ðŸ”§ðŸ”§ðŸ”§ðŸ”§ðŸ”§ðŸ”§ðŸ”§ðŸ”§ðŸ”§ðŸ”§ðŸ”§ðŸ”§ðŸ”§ðŸ”§ðŸ”§ðŸ”§ðŸ”§ðŸ”§ CONFIG BOX ðŸ”§ðŸ”§ðŸ”§ðŸ”§ðŸ”§ðŸ”§ðŸ”§ðŸ”§ðŸ”§ðŸ”§ðŸ”§ðŸ”§ðŸ”§ðŸ”§ðŸ”§ðŸ”§ðŸ”§ðŸ”§ðŸ”§ðŸ”§ðŸ”§ðŸ”§ðŸ”§ -->
<div *ngIf="i === selectedIndex" class="mat-elevation-z4" cdkDrag
    style="position: absolute;width: 62vw;background: #fafafa;z-index: 1;top: -8px;left: 15%;border: lightgrey 3px solid;">
    <div style="position: absolute;
    top: 10px;
    right: 10px;
    color: #ccc;
    cursor: move;
    width: 1024px;
    height: 54px;" cdkDragHandle> </div>
    <div style="text-align: center;">
        <div style="font-size: 16px;margin: 20px;color: #48535e;">PASTE TEST NAMES</div>
        <!-- <div style="font-size: 14px;margin-bottom: 20px;color: lightgray;">Brief Description Here</div> -->
    </div>
    <div>
        <mat-form-field style="width: 90%;margin-left: 20px;" appearance="outline">
            <mat-label>Copy & Paste TEST NAMES</mat-label>
            <textarea matInput rows="4" cols="50" [(ngModel)]="testNamesInput"
                placeholder="ENHANCE,Hance, En-,EVOLVE,Evo,GUARD,Gard, Guard,INVEST,In, Inv,OMNI,Omni,OPTIMAL"></textarea>
        </mat-form-field>
    </div>

    <hr>
    <div style="display: flex;flex-direction: row;justify-content: space-around;gap: 30px;">

        <input type="text" [(ngModel)]="bmxItem.componentSettings[0].categoryName"
            [value]="bmxItem.componentSettings[0].categoryName"
            style="font-size: 20px;color: #324395;padding-bottom: 10px;">
        <input type="text" [(ngModel)]="bmxItem.componentSettings[0].categoryDescription"
            [value]="bmxItem.componentSettings[0].categoryDescription"
            style="font-size: 20px;color: #ee7f25;padding-bottom: 20px;">


        MIN<input type="number" [(ngModel)]="bmxItem.componentSettings[0].minRule" style="width: 50px;"
            [value]="bmxItem.componentSettings[0].minRule">
        MAX<input type="number" [(ngModel)]="bmxItem.componentSettings[0].maxRule" style="width: 50px;"
            [value]="bmxItem.componentSettings[0].maxRule">

    </div>

    <hr>
    <div style="text-align: center;display: flex;flex-direction: row;justify-content: space-around;">
        <div>
            <div style="font-size: 16px;margin-top: 10px;color: #48535e;">SELECT RANKIN RANGE</div>
            <br>

            <div style="text-align: center;display: flex;flex-direction: row;justify-content: space-around;">
                3 <input [(ngModel)]="rankingScaleValue" type="range" id="volume" name="volume" min="3" max="10">
                10 <br>
            </div>
            <label for="volume">{{rankingScaleValue}}</label>
            <!-- <hr> -->

        </div>

        <div style="display: flex;flex-direction: column;gap: 1px;">
            <!-- <mat-form-field appearance="outline">
                <mat-label>choose criteria</mat-label>
                <mat-select multiple [(ngModel)]="selectedCriteria"
                    (selectionChange)="criteriaSelection(selectedCriteria)">
                    <mat-option *ngFor="let cirteriaItem of CRITERIA" [value]="cirteriaItem">{{cirteriaItem.name}}
                    </mat-option>
                </mat-select>
            </mat-form-field> -->
            <mat-radio-group aria-label="Select an option" [(ngModel)]="this.bmxItem.componentSettings[0].rankType"
                (change)="rankingTableType(this.bmxItem.componentSettings[0].rankType)">
                <div style="display: flex;flex-direction: column;gap: 1px;">
                    <mat-radio-button value="dropDown">Drop-Down</mat-radio-button>
                    <mat-radio-button value="dragAndDrop">Drag & Drop</mat-radio-button>
                    <mat-radio-button value="radio">Radio Butons</mat-radio-button>
                </div>
            </mat-radio-group>

        </div>

        <div>
            <!-- <div style="font-size: 16px;margin-top: 10px;color: #48535e;">CHOOSE RATING ICON</div>
            <br>
            <mat-radio-group aria-label="Select an option" [(ngModel)]="ratingScaleIcon">
                <mat-icon style="color:#76d354;">grade</mat-icon>
                <mat-radio-button value="grade">
                </mat-radio-button>
                <mat-icon style="color:#e6ad11;">settings_cell</mat-icon>
                <mat-radio-button value="settings_cell">
                </mat-radio-button>
            </mat-radio-group>
            <hr> -->
        </div>

        <button style="outline: none;color:#76d354;margin-bottom: 50px;" mat-icon-button
            (click)="selectedIndex = '';upLoadNamesAndRationales(testNamesInput)" aria-label="ranking">
            <mat-icon>check_circle</mat-icon><br> DONE
        </button>
    </div>
</div>
<!-- ðŸ”§ðŸ”§ðŸ”§ðŸ”§ðŸ”§ðŸ”§ðŸ”§ðŸ”§ðŸ”§ðŸ”§ðŸ”§ðŸ”§ðŸ”§ðŸ”§ðŸ”§ðŸ”§ðŸ”§ðŸ”§ðŸ”§ðŸ”§ðŸ”§ðŸ”§END CONFIG BOX ðŸ”§ðŸ”§ðŸ”§ðŸ”§ðŸ”§ðŸ”§ðŸ”§ðŸ”§ðŸ”§ðŸ”§ðŸ”§ðŸ”§ðŸ”§ðŸ”§ðŸ”§ðŸ”§ðŸ”§ðŸ”§ðŸ”§ðŸ”§ðŸ”§ -->



<!--ðŸ¥‘ðŸ¥‘ðŸ¥‘ðŸ¥‘ðŸ¥‘ðŸ¥‘ðŸ¥‘ðŸ¥‘ðŸ¥‘ðŸ¥‘ðŸ¥‘ðŸ¥‘ðŸ¥‘ðŸ¥‘ðŸ¥‘ðŸ¥‘ðŸ¥‘ðŸ¥‘ðŸ¥‘ðŸ¥‘ðŸ¥‘ðŸ¥‘ðŸ¥‘ðŸ¥‘ðŸ¥‘ RATING TABLE ðŸ¥‘ðŸ¥‘ðŸ¥‘ðŸ¥‘ðŸ¥‘ðŸ¥‘ðŸ¥‘ðŸ¥‘ðŸ¥‘ðŸ¥‘ðŸ¥‘ðŸ¥‘ðŸ¥‘ðŸ¥‘ðŸ¥‘ðŸ¥‘ðŸ¥‘ðŸ¥‘ðŸ¥‘ðŸ¥‘ðŸ¥‘ðŸ¥‘ðŸ¥‘-->


<!-- âºâºâºâºâºâºâºâºâºâºâºâºâºâºâºâºâºâºâºâºRAGE INPUTS FOR COLUMN SETTINGS âºâºâºâºâºâºâºâºâºâºâºâºâºâºâºâºâºâºâº -->
<div *ngIf="isColumnResizerOn && bmxClientPageOverview" class="" style="display: flex;
    flex-direction: row;
    justify-content: space-evenly;
    width: 75%;
    position: absolute;
    top: -50px;
    left: 40px;
    border-radius: 15px;">

    <div style="display: flex;flex-direction: column;align-items: center;">
        <p style="margin: 0 0 -12px;color: grey;">columns width: {{bmxItem.componentSettings[0].columnWidth}} px</p>
        <input type="range" style="margin: 20px;width: 140px;" [(ngModel)]="bmxItem.componentSettings[0].columnWidth"
            class="slider-font-size" tickInterval="1" min="50" max="1000"
            [value]="bmxItem.componentSettings[0].columnWidth">
    </div>
    <div style="display: flex;flex-direction: column;align-items: center;">
        <p style="margin: 0 0 -12px;color: grey;">ratinale width: {{bmxItem.componentSettings[0].rationalewidth}} px</p>
        <input type="range" style="margin: 20px;width: 140px;" [(ngModel)]="bmxItem.componentSettings[0].rationalewidth"
            class="slider-font-size" tickInterval="1" min="50" max="1000"
            [value]="bmxItem.componentSettings[0].rationalewidth">
    </div>
    <div style="display: flex;flex-direction: column;align-items: center;">
        <p style="margin: 0 0 -12px;color: grey;">font size: {{bmxItem.componentSettings[0].fontSize}} px</p>
        <input type="range" style="margin: 20px;width: 140px;" [(ngModel)]="bmxItem.componentSettings[0].fontSize"
            class="slider-font-size" tickInterval="1" min="2" max="40" [value]="bmxItem.componentSettings[0].fontSize">
    </div>
    <div style="display: flex;flex-direction: column;align-items: center;">
        <p style="margin: 0 0 -12px;color: grey;">row height: {{bmxItem.componentSettings[0].rowHeight}} px</p>
        <input type="range" style="margin: 20px;width: 140px;" [(ngModel)]="bmxItem.componentSettings[0].rowHeight"
            class="slider-font-size" tickInterval="1" min="2" max="20" [value]="bmxItem.componentSettings[0].rowHeight">
    </div>
    <div *ngIf="radioColumnCounter > 1" style="display: flex;flex-direction: column;align-items: center;">
        <p style="margin: 0 0 -12px;color: grey;">radio Columns width:
            {{bmxItem.componentSettings[0].radioColumnsWidth}} px</p>
        <input type="range" style="margin: 20px;width: 140px;"
            [(ngModel)]="bmxItem.componentSettings[0].radioColumnsWidth" class="slider-font-size" tickInterval="1"
            min="50" max="100" [value]="bmxItem.componentSettings[0].radioColumnsWidth">
    </div>
</div>
<!-- <mat-slider min="200" max="500" step="10" value="200" [(value)]="bmxItem.componentSettings[0].columnWidth"></mat-slider><p>{{bmxItem.componentSettings[0].columnWidth}}</p> -->
<!-- âºâºâºâºâºâºâºâºâºâºâºâºâºâºâºâºâºâºâºâºâºâº  END  âºâºâºâºâºâºâºâºâºâºâºâºâºâºâºâºâºâº -->


<!--ðŸ’²ðŸ’²ðŸ’²ðŸ’²ðŸ’²ðŸ’²ðŸ’²ðŸ’²ðŸ’²ðŸ’²ðŸ’²ðŸ’²ðŸ’²ðŸ’²ðŸ’²ðŸ’²ðŸ’²ðŸ’²ðŸ’²ðŸ’²ðŸ’²ðŸ’²ðŸ’²ðŸ’²ðŸ’²ðŸ’²ðŸ’²ðŸ’²ðŸ’²ðŸ’²ðŸ’²ðŸ’²ðŸ’² TABLE GENERATOR ðŸ’²ðŸ’²ðŸ’²ðŸ’²ðŸ’²ðŸ’²ðŸ’²ðŸ’²ðŸ’²ðŸ’²ðŸ’²ðŸ’²ðŸ’²ðŸ’²ðŸ’²ðŸ’²ðŸ’²ðŸ’²ðŸ’²ðŸ’²ðŸ’²ðŸ’²ðŸ’²ðŸ’²ðŸ’²ðŸ’²ðŸ’²ðŸ’²ðŸ’²ðŸ’²ðŸ’²ðŸ’²ðŸ’²ðŸ’²-->
<div class="desktop">
    <div style="display: flex;flex-direction: column;padding-left: 40px;">

        <div style="font-size: 25px;color: #324395;padding-bottom: 10px;">{{bmxItem.componentSettings[0].categoryName}}
        </div>
        <div style="font-size: 18px;color: #ee7f25;padding-bottom: 20px;">
            {{bmxItem.componentSettings[0].categoryDescription}}</div>

    </div>
    <div class="scroller-style main-container" [dragula]="draggableBag" [(dragulaModel)]="bmxItem.componentText"
        (dragulaModelChange)="checkDragEvetn($event);">
        <div *ngFor="let testName of bmxItem.componentText; let y = index">

            <div class="test-name-table" style="cursor: grab;">

                <!--â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸ RANK RENDERER â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸ -->
                <div class="rank-column">
                    <div *ngIf="(y !== 0)">
                        <mat-form-field *ngIf="this.bmxItem.componentSettings[0].rankType == 'dropDown'"
                            appearance="outline" style="width: 130px;padding-top: 13px;height: 80px;">
                            <mat-label>Rank 1 to {{rankingScaleValue}}</mat-label>
                            <mat-select matNativeControl [(ngModel)]="bmxItem.componentText[y].RATE"
                                (selectionChange)="setRating(bmxItem.componentText[y].RATE,y)">
                                <mat-option *ngFor="let star of  testName.STARS; let x =  index" [value]="star.icon">
                                    {{star.icon}}</mat-option>
                            </mat-select>
                        </mat-form-field>

                        <button *ngIf="this.bmxItem.componentSettings[0].rankType == 'dragAndDrop'" mat-button style="background-color:#ee7f25 ;color: white; 
                            animation: rubberBand 700ms ease-in  forwards;">{{y}}</button>

                        <button
                            *ngIf="this.bmxItem.componentText[y].RATE && this.bmxItem.componentSettings[0].rankType == 'radio'"
                            mat-button
                            style="background-color:#ee7f25 ;color: white;
                            animation: rubberBand 700ms ease-in  forwards;">{{this.bmxItem.componentText[y].RATE}}</button>

                        <!-- ðŸ©¸ðŸ©¸ðŸ©¸ðŸ©¸ðŸ©¸ðŸ©¸ðŸ©¸ðŸ©¸ðŸ©¸ðŸ©¸ðŸ©¸ðŸ©¸ðŸ©¸ RATE BUTTONS ðŸ©¸ðŸ©¸ðŸ©¸ðŸ©¸ðŸ©¸ðŸ©¸ðŸ©¸ðŸ©¸ðŸ©¸ðŸ©¸ðŸ©¸ðŸ©¸ðŸ©¸ðŸ©¸ðŸ©¸ðŸ©¸ðŸ©¸ðŸ©¸ðŸ©¸ðŸ©¸ðŸ©¸ðŸ©¸ðŸ©¸ðŸ©¸ -->
                        <div style="display: flex;">
                            <button *ngIf="bmxItem.componentText[y]['RATE']>0 && y != 0 && 
                                this.bmxItem.componentSettings[0].rankType == 'dropDown'" 
                                style="background-color: #ee7f25;    
                                    color: white;
                                    min-width: 20px;
                                    line-height: 19px;
                                    padding: 2px 0px;
                                    margin: -45px 10px;
                                    position: absolute;
                                    animation: rubberBand 700ms ease-in  forwards;" mat-button>{{bmxItem.componentText[y]['RATE']}}</button>
                        </div>
                        <!-- ðŸ©¸ðŸ©¸ðŸ©¸ðŸ©¸ðŸ©¸ðŸ©¸ðŸ©¸ðŸ©¸ðŸ©¸ðŸ©¸ðŸ©¸ðŸ©¸ðŸ©¸ END RATE BUTTONS ðŸ©¸ðŸ©¸ðŸ©¸ðŸ©¸ðŸ©¸ðŸ©¸ðŸ©¸ðŸ©¸ðŸ©¸ðŸ©¸ðŸ©¸ðŸ©¸ðŸ©¸ðŸ©¸ðŸ©¸ðŸ©¸ðŸ©¸ðŸ©¸ðŸ©¸ðŸ©¸ðŸ©¸ðŸ©¸ðŸ©¸ðŸ©¸ -->
                    </div>
                    <!-- COLUMN HEADER -->
                    <textarea *ngIf="y == 0 && editSingleTableCells"
                        [style.font-size]="bmxItem.componentSettings[0].fontSize +'px'"
                        style="text-align: center; font-weight: bold;color: #324395;min-width: 200px;" class="row-box"
                        [(ngModel)]="bmxItem.componentSettings[0].ratingScaleTitle"
                        value="bmxItem.componentSettings[0].ratingScaleTitle"></textarea>
                    <div class="rating-text" *ngIf="y == 0 && !editSingleTableCells">
                        {{bmxItem.componentSettings[0].ratingScaleTitle}}</div>
                </div>
                <!--â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸ RANK STARS â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸ -->

                <div *ngFor="let columnName of columnsNames; let e =  index"
                    style="display: flex;align-items: center;justify-content: center;" [ngClass]="(e%2==0)?'red':'blue'"
                    [style.width]="(columnName == 'rationale')?bmxItem.componentSettings[0].rationalewidth + 'px': 
                ( (columnName.includes('RadioColumn'))?bmxItem.componentSettings[0].radioColumnsWidth + 'px' :
                bmxItem.componentSettings[0].columnWidth + 'px' )">
                    <!-- (columnName == 'RadioColumn1)?bmxItem.componentSettings[0].radioColumnsWidth + 'px': 
                bmxItem.componentSettings[0].columnWidth + 'px' -->
                    <!-- ðŸŸ¢ðŸŸ¢ðŸŸ¢ðŸŸ¢ðŸŸ¢ðŸŸ¢ðŸŸ¢ðŸŸ¢ðŸŸ¢ðŸŸ¢ðŸŸ¢ðŸŸ¢ðŸŸ¢ðŸŸ¢ HEADER TEXT AREA ðŸŸ¢ðŸŸ¢ðŸŸ¢ðŸŸ¢ðŸŸ¢ðŸŸ¢ðŸŸ¢ðŸŸ¢ðŸŸ¢ðŸŸ¢ðŸŸ¢ðŸŸ¢ðŸŸ¢ðŸŸ¢ðŸŸ¢ðŸŸ¢ -->

                    <div *ngIf="(y == 0)" class="header-title" (mouseenter)="selectedColumn = e"
                        (mouseleave)="selectedColumn = ''">

                        <!-- IF YOU WANT TO DELET ALL COLUMNS PASS THE COLUMN NAME  NOT testName[columnName]-->
                        <span *ngIf="selectedColumn === e && bmxClientPageOverview && !editSingleTableCells"
                            class="header-delete-icon" matTooltip="double click to delete column"
                            matTooltipPosition="above" (dblclick)="deleteColumn(columnName)">x</span>


                        <textarea *ngIf="y == 0 && editSingleTableCells"
                            [style.font-size]="bmxItem.componentSettings[0].fontSize +'px'"
                            style="text-align: center; font-weight: bold;color: #324395;" class="row-box"
                            [(ngModel)]="testName[columnName]" value="testName[columnName]"></textarea>


                        <p style="text-align: center; font-weight: bold;color: #324395;margin: 0 0 0px;"
                            [style.font-size]="bmxItem.componentSettings[0].fontSize +'px'"
                            *ngIf=" !editSingleTableCells">
                            {{testName[columnName]}}
                        </p>
                    </div>

                    <!-- ðŸŸ¢ðŸŸ¢ðŸŸ¢ðŸŸ¢ðŸŸ¢ðŸŸ¢ðŸŸ¢ðŸŸ¢ðŸŸ¢ðŸŸ¢ðŸŸ¢ðŸŸ¢ðŸŸ¢ðŸŸ¢ END HEADER TEXT AREA  ðŸŸ¢ðŸŸ¢ðŸŸ¢ðŸŸ¢ðŸŸ¢ðŸŸ¢ðŸŸ¢ðŸŸ¢ðŸŸ¢ðŸŸ¢ðŸŸ¢ðŸŸ¢ðŸŸ¢ðŸŸ¢ðŸŸ¢ðŸŸ¢ -->


                    <!-- ðŸŸ¡ðŸŸ¡ðŸŸ¡ðŸŸ¡ðŸŸ¡ðŸŸ¡ðŸŸ¡ðŸŸ¡ðŸŸ¡ðŸŸ¡ðŸŸ¡ðŸŸ¡ðŸŸ¡ðŸŸ¡ TABLE CELLS  ðŸŸ¡ðŸŸ¡ðŸŸ¡ðŸŸ¡ðŸŸ¡ðŸŸ¡ðŸŸ¡ðŸŸ¡ðŸŸ¡ðŸŸ¡ðŸŸ¡ðŸŸ¡ðŸŸ¡ðŸŸ¡ðŸŸ¡ðŸŸ¡ -->
                    <div>

                        <!-- IF ELSE TEMPLATE INPUTS  -- BELOW RADION BUTTONS COLUMN -->
                        <input type="radio" *ngIf="y !== 0  &&  columnName.includes('RadioColumn') == true"
                            [name]="columnName + i" [checked]="testName[columnName]"
                            (change)="saveRadioColumValue(columnName, y)">


                        <!-- TEXT_AREA COLUMN-->
                        <textarea *ngIf="y !== 0  && columnName.includes('Comments') == true"
                            [style.width]="(columnName == 'rationale')?bmxItem.componentSettings[0].rationalewidth + 'px':bmxItem.componentSettings[0].columnWidth +'px'"
                            [style.font-size]="bmxItem.componentSettings[0].fontSize +'px'" cdkTextareaAutosize
                            [cdkAutosizeMinRows]="bmxItem.componentSettings[0].rowHeight"
                            style="text-align: center;height: 32px;width: 358px;font-size: 16px;border: 1px solid grey;"
                            class="row-box" [(ngModel)]="testName[columnName]" rows="4" cols="50"></textarea>


                        <!-- TEXT AREA TO EDIT TABLE CELL CONTENT -->
                        <textarea
                            *ngIf="y !== 0  && editSingleTableCells && (columnName.includes('RadioColumn') != true) &&  columnName.includes('Comments') != true"
                            [style.width]="(columnName == 'rationale')?bmxItem.componentSettings[0].rationalewidth + 'px':bmxItem.componentSettings[0].columnWidth +'px'"
                            [style.font-size]="bmxItem.componentSettings[0].fontSize +'px'" cdkTextareaAutosize
                            [cdkAutosizeMinRows]="bmxItem.componentSettings[0].rowHeight"
                            style="outline: none;text-align: center;" class="row-box"
                            [(ngModel)]="testName[columnName]"></textarea>

                        <p *ngIf="y !== 0  && !editSingleTableCells && (columnName.includes('RadioColumn') != true) &&  columnName.includes('Comments') != true"
                            [style.font-size]="bmxItem.componentSettings[0].fontSize +'px'"
                            [style.width]="(columnName == 'rationale')?bmxItem.componentSettings[0].rationalewidth + 'px':bmxItem.componentSettings[0].columnWidth +'px'"
                            style="text-align: center;margin: 0 0 0px;">{{testName[columnName]}}</p>
                    </div>
                    <!-- ðŸŸ¡ðŸŸ¡ðŸŸ¡ðŸŸ¡ðŸŸ¡ðŸŸ¡ðŸŸ¡ðŸŸ¡ðŸŸ¡ðŸŸ¡ðŸŸ¡ðŸŸ¡ðŸŸ¡ðŸŸ¡ END TABLE CELLS ðŸŸ¡ðŸŸ¡ðŸŸ¡ðŸŸ¡ðŸŸ¡ðŸŸ¡ðŸŸ¡ðŸŸ¡ðŸŸ¡ðŸŸ¡ðŸŸ¡ðŸŸ¡ðŸŸ¡ðŸŸ¡ðŸŸ¡ðŸŸ¡ -->
                </div>
                <div *ngIf="(y !== 0) && bmxClientPageOverview"
                    style="min-width: 100px; position: absolute;right: 0px;">
                    <button style="outline: none;margin:3px -8px;" (dblclick)="deletRow(y)" mat-icon-button
                        matTooltip="doble click to delete row" matTooltipPosition="left" aria-label="ranking">
                        <mat-icon>delete_outline</mat-icon>
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>


<div class="mobile">
    <div style="display: flex;flex-direction: column;text-align: center;align-items: center;">

        <div style="font-size: 25px;color: #324395;padding-bottom: 10px;">{{bmxItem.componentSettings[0].categoryName}}
        </div>
        <div style="font-size: 18px;color: #ee7f25;padding-bottom: 20px;">
            {{bmxItem.componentSettings[0].categoryDescription}}</div>
        <button mat-raised-button *ngIf="this.bmxItem.componentSettings[0].rankType == 'dragAndDrop'"
            style="font-size: 18px;color: #ee7f25;width: 150;" (click)="toggleScrolling()" cdkDrag>
            {{(allowScrolling)?'stop scrolling':'start scrolling'}} </button>

    </div>
    <div class="scroller-style main-container" style="margin-bottom: 45px;" [dragula]="draggableBag"
        [(dragulaModel)]="bmxItem.componentText" (dragulaModelChange)="checkDragEvetn($event);">

        <div *ngFor="let testName of bmxItem.componentText; let y = index" style="margin-bottom: 10px;">

            <div class="test-name-table" *ngIf="(y != 0)" [style.height]="(selectedCard == y)?'':'45px'">

                <button *ngIf="this.bmxItem.componentSettings[0].rankType == 'dragAndDrop'&& y != 0  " style="background-color: #ee7f25;color: white;margin: 5px;width: 30px;
                    height: 30px;
                    line-height: 30px;right: 7px;
                    position: absolute;animation: rubberBand 700ms ease-in  forwards;" mat-icon-button>{{y}}</button>


                <button *ngIf="bmxItem.componentText[y]['RATE']>0 && y != 0 " style="background-color: #ee7f25;color: white;margin: 5px;width: 30px;
                    height: 30px;
                    line-height: 30px;right: 7px;
                    position: absolute;animation: rubberBand 700ms ease-in  forwards;"
                    mat-icon-button>{{bmxItem.componentText[y]['RATE']}}</button>
                <!-- ðŸŸ¢ðŸŸ¢ðŸŸ¢ðŸŸ¢ðŸŸ¢ðŸŸ¢ðŸŸ¢ðŸŸ¢ðŸŸ¢ðŸŸ¢ðŸŸ¢ðŸŸ¢ðŸŸ¢ðŸŸ¢ HEADER TEXT AREA ðŸŸ¢ðŸŸ¢ðŸŸ¢ðŸŸ¢ðŸŸ¢ðŸŸ¢ðŸŸ¢ðŸŸ¢ðŸŸ¢ðŸŸ¢ðŸŸ¢ðŸŸ¢ðŸŸ¢ðŸŸ¢ðŸŸ¢ðŸŸ¢ -->


                <div style="display: flex;gap: 23px;padding-top: 10px;position: absolute;right: 24px;">
                    <div *ngFor="let criteria of testName.CRITERIA  let x =  index">
                        <button *ngIf="criteria.RATE>0 && y != 0 " style="background-color: #ee7f25;    
                             color: white;
                             min-width: 20px;
                             line-height: 20px;
                             padding: 2px 0px;
                             position: absolute;
                             animation: rubberBand 700ms ease-in  forwards;" mat-button>{{criteria.RATE}}</button>
                    </div>
                </div>
                <!-- <button *ngIf="this.bmxItem.componentSettings[0].rankType == 'dragAndDrop'" mat-button
                style="background-color:#ee7f25 ;color: white;">{{y}}</button> -->

                <div *ngFor="let columnName of columnsNames; let e =  index">
                    <!-- ðŸŸ¢ðŸŸ¢ðŸŸ¢ðŸŸ¢ðŸŸ¢ðŸŸ¢ðŸŸ¢ðŸŸ¢ðŸŸ¢ðŸŸ¢ðŸŸ¢ðŸŸ¢ðŸŸ¢ðŸŸ¢ END HEADER TEXT AREA  ðŸŸ¢ðŸŸ¢ðŸŸ¢ðŸŸ¢ðŸŸ¢ðŸŸ¢ðŸŸ¢ðŸŸ¢ðŸŸ¢ðŸŸ¢ðŸŸ¢ðŸŸ¢ðŸŸ¢ðŸŸ¢ðŸŸ¢ðŸŸ¢ -->

                    <!-- ðŸŸ¡ðŸŸ¡ðŸŸ¡ðŸŸ¡ðŸŸ¡ðŸŸ¡ðŸŸ¡ðŸŸ¡ðŸŸ¡ðŸŸ¡ðŸŸ¡ðŸŸ¡ðŸŸ¡ðŸŸ¡ TABLE CELLS  ðŸŸ¡ðŸŸ¡ðŸŸ¡ðŸŸ¡ðŸŸ¡ðŸŸ¡ðŸŸ¡ðŸŸ¡ðŸŸ¡ðŸŸ¡ðŸŸ¡ðŸŸ¡ðŸŸ¡ðŸŸ¡ðŸŸ¡ðŸŸ¡ -->
                    <div>

                        <!-- IF ELSE TEMPLATE INPUTS  -->
                        <span *ngIf="y !== 0  &&  columnName.includes('RadioColumn') == true"
                            style="padding-right: 8px;">{{e - 1}}</span>
                        <input type="radio" *ngIf="y !== 0  &&  columnName.includes('RadioColumn') == true"
                            [name]="'rate' + y" [checked]="testName[columnName]"
                            (change)="saveRadioColumValue(columnName, y)">

                        <!-- TEXT_AREA COLUMN-->
                        <div style="display: flex;
                        justify-content: center;">
                            <textarea *ngIf="y !== 0  && columnName.includes('Comments') == true && selectedCard == y"
                                [style.width]="'95%'" [style.font-size]="bmxItem.componentSettings[0].fontSize +'px'"
                                cdkTextareaAutosize [cdkAutosizeMinRows]="bmxItem.componentSettings[0].rowHeight" style="text-align: center;height: 32px;width: 358px;font-size: 16px;border: 1px solid grey;
                            animation: bounceIn 500ms ease-in forwards;padding: 0 4px" class="row-box"
                                [(ngModel)]="testName[columnName]" placeholder="comments" rows="4" cols="50"></textarea>
                        </div>

                        <!-- TEST NAME CELL -->
                        <p (click)="(selectedCard == y)?selectedCard = '':selectedCard = y" *ngIf="y !== 0  && !editSingleTableCells && (columnName.includes('RadioColumn') != true) &&
                              columnName.includes('Comments') != true &&
                              columnName.includes('kata') != true &&
                              columnName.includes('ratio') != true"
                            [style.font-size]=" (columnName.includes('name') == true)?'27px':'20px'"
                            [style.color]="(columnName.includes('name') == true)?'#324395':'#bababa'"
                            style="text-align: center;padding: 10px 4px;">{{(testName[columnName].trim())}}</p>

                        <p *ngIf="y !== 0  && !editSingleTableCells && (columnName.includes('RadioColumn') != true) &&
                              columnName.includes('Comments') != true && selectedCard == y &&
                              columnName.includes('name') != true"
                            [style.font-size]=" (columnName.includes('name') == true)?'27px':'20px'"
                            [style.color]="(columnName.includes('name') == true)?'#324395':'#bababa'"
                            style="text-align: center;padding: 5px 4px;">{{testName[columnName]}}</p>


                    </div>
                    <!-- ðŸŸ¡ðŸŸ¡ðŸŸ¡ðŸŸ¡ðŸŸ¡ðŸŸ¡ðŸŸ¡ðŸŸ¡ðŸŸ¡ðŸŸ¡ðŸŸ¡ðŸŸ¡ðŸŸ¡ðŸŸ¡ END TABLE CELLS ðŸŸ¡ðŸŸ¡ðŸŸ¡ðŸŸ¡ðŸŸ¡ðŸŸ¡ðŸŸ¡ðŸŸ¡ðŸŸ¡ðŸŸ¡ðŸŸ¡ðŸŸ¡ðŸŸ¡ðŸŸ¡ðŸŸ¡ðŸŸ¡ -->
                </div>
                <mat-form-field *ngIf="this.bmxItem.componentSettings[0].rankType == 'dropDown' && selectedCard == y"
                    appearance="outline" style="width: 130px;padding-top: 13px;height: 80px;">
                    <mat-label>Rank 1 to {{rankingScaleValue}}</mat-label>
                    <mat-select matNativeControl [(ngModel)]="bmxItem.componentText[y].RATE"
                        (selectionChange)="setRating(bmxItem.componentText[y].RATE,y)">
                        <mat-option *ngFor="let star of  testName.STARS; let x =  index" [value]="star.icon">
                            {{star.icon}}</mat-option>
                    </mat-select>
                </mat-form-field>
            </div>

        </div>

    </div>
</div>

<!--ðŸ¥‘ðŸ¥‘ðŸ¥‘ðŸ¥‘ðŸ¥‘ðŸ¥‘ðŸ¥‘ðŸ¥‘ðŸ¥‘ðŸ¥‘ðŸ¥‘ðŸ¥‘ðŸ¥‘ðŸ¥‘ðŸ¥‘ðŸ¥‘ðŸ¥‘ðŸ¥‘ðŸ¥‘ðŸ¥‘ðŸ¥‘ðŸ¥‘ðŸ¥‘ðŸ¥‘ðŸ¥‘END RATING TABLE ðŸ¥‘ðŸ¥‘ðŸ¥‘ðŸ¥‘ðŸ¥‘ðŸ¥‘ðŸ¥‘ðŸ¥‘ðŸ¥‘ðŸ¥‘ðŸ¥‘ðŸ¥‘ðŸ¥‘ðŸ¥‘ðŸ¥‘ðŸ¥‘ðŸ¥‘ðŸ¥‘ðŸ¥‘ðŸ¥‘ðŸ¥‘ðŸ¥‘ðŸ¥‘-->